---
- name: Assigning IP addresses to spine01 point-to-point interfaces
  when: inventory_hostname == 'spine01'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ spine01_interfaces }}"

- name: Assigning IP addresses to spine02 point-to-point interfaces
  when: inventory_hostname == 'spine02'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ spine02_interfaces }}"