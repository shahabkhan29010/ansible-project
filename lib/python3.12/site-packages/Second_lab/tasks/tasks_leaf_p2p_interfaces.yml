---
- name: Assigning IP addresses to leaf01 point-to-point interfaces
  when: inventory_hostname == 'leaf01'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ leaf01_interfaces }}"

- name: Assigning IP addresses to leaf02 point-to-point interfaces
  when: inventory_hostname == 'leaf02'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ leaf02_interfaces }}"

- name: Assigning IP addresses to leaf03 point-to-point interfaces
  when: inventory_hostname == 'leaf03'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ leaf03_interfaces }}"

- name: Assigning IP addresses to leaf04 point-to-point interfaces
  when: inventory_hostname == 'leaf04'
  cisco.nxos.nxos_l3_interfaces:
    config:
      - name: "{{ item.interface }}"
        ipv4:
          - address: "{{ item.ip }}"
    state: merged
  loop: "{{ leaf04_interfaces }}"