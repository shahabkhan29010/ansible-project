#SPDX-License-Identifier: MIT-0
---
# tasks file for save_config
- name: Saving configuration in all devices
  template:
    src: save_config.j2
    dest: "/home/knzadmin/mylab/save_config/files/{{ inventory_hostname }}_save_config.cfg" 

- name: Push script to switches
  cisco.nxos.nxos_config:
    src: "/home/knzadmin/mylab/save_config/files/{{ inventory_hostname }}_save_config.cfg"
  when: inventory_hostname != 'bg-router'

- name: Push script to router
  cisco.ios.ios_config:
    src: "/home/knzadmin/mylab/save_config/files/{{ inventory_hostname }}_save_config.cfg" 
  when: inventory_hostname == 'bg-router'